<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobStream AI - Real-Time Job Portal</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { background-color: #f3f4f6; font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- MOCK DATA GENERATORS ---
        const COMPANIES = ["Google", "Amazon", "Microsoft", "Netflix", "IDFC FIRST Bank", "TCS", "Infosys", "StartupX", "TechCorp"];
        const ROLES_TECH = ["React Developer", "C++ Engineer", "Associate Manager", "Data Scientist", "Backend Engineer", "AI Researcher"];
        const ROLES_INTERN = ["SDE Intern", "Marketing Intern", "Data Analytics Intern", "Summer Analyst", "Tech Intern"];
        const LOCATIONS = ["Bangalore", "Mumbai", "Pune", "Delhi", "Remote", "Hyderabad"];
        const PLATFORMS = ["LinkedIn", "Google Jobs", "Naukri", "Glassdoor"];

        const calculateMatchScore = (jobDesc, userSkills) => {
            if (!userSkills) return 0;
            const skills = userSkills.toLowerCase().split(',').map(s => s.trim()).filter(s => s);
            if (skills.length === 0) return 0;
            const desc = jobDesc.toLowerCase();
            let matches = 0;
            skills.forEach(skill => { if (desc.includes(skill)) matches++; });
            const baseScore = (matches / skills.length) * 100;
            const aiVariance = Math.random() * 10; 
            return Math.min(Math.round(baseScore + aiVariance), 100);
        };

        const generateRandomJob = (type) => {
            const isIntern = type === 'INTERNSHIP';
            const role = isIntern 
                ? ROLES_INTERN[Math.floor(Math.random() * ROLES_INTERN.length)] 
                : ROLES_TECH[Math.floor(Math.random() * ROLES_TECH.length)];
            const company = COMPANIES[Math.floor(Math.random() * COMPANIES.length)];
            const location = LOCATIONS[Math.floor(Math.random() * LOCATIONS.length)];
            const platform = PLATFORMS[Math.floor(Math.random() * PLATFORMS.length)];
            const description = `We are looking for a ${role} proficient in skills relevant to ${company}. Required: ${
                role.includes('React') ? 'React, JavaScript, CSS' : role.includes('Data') ? 'Python, SQL, ML' : 'C++, Java, System Design'
            }. Join our team in ${location}.`;
            return { id: Date.now() + Math.random(), title: role, company, location, type, platform, postedAt: new Date(), description, matchScore: null };
        };

        const Icon = ({ name, size = 16, className = "" }) => {
            const icons = {
                briefcase: <path d="M20 7h-3a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM9 7h6v2H9V7zm9 12H6v-6h12v6z"/>,
                mapPin: (<><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></>),
                clock: (<><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>),
                brain: (<><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></>),
                search: (<><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></>)
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || icons.briefcase}
                </svg>
            );
        };

        const JobCard = ({ job, userSkills }) => {
            const matchScore = useMemo(() => calculateMatchScore(job.description, userSkills), [job.description, userSkills]);
            let scoreColor = "text-gray-500";
            let borderColor = "border-gray-200";
            if (userSkills && matchScore >= 80) { scoreColor = "text-green-600"; borderColor = "border-green-300 ring-1 ring-green-100"; }
            else if (userSkills && matchScore >= 50) { scoreColor = "text-yellow-600"; borderColor = "border-yellow-200"; }

            return (
                <div className={`bg-white rounded-xl p-5 border ${borderColor} shadow-sm hover:shadow-lg transition-all duration-300 fade-in relative overflow-hidden`}>
                    <div className="absolute top-0 right-0 bg-blue-50 text-blue-600 text-[10px] font-bold px-2 py-1 rounded-bl-lg">{job.platform}</div>
                    <div className="flex justify-between items-start mb-2 mt-1">
                        <div>
                            <h3 className="font-bold text-lg text-gray-800 leading-tight">{job.title}</h3>
                            <p className="text-gray-500 text-sm font-medium">{job.company}</p>
                        </div>
                    </div>
                    <div className="flex flex-wrap gap-2 text-xs text-gray-600 mb-4">
                        <span className="flex items-center gap-1 bg-gray-100 px-2 py-1 rounded"><Icon name="mapPin" size={12} /> {job.location}</span>
                        <span className="flex items-center gap-1 bg-gray-100 px-2 py-1 rounded"><Icon name="clock" size={12} /> Just now</span>
                    </div>
                    {userSkills && (
                        <div className="flex items-center gap-2 mb-4 bg-gray-50 p-2 rounded-lg">
                            <Icon name="brain" size={16} className={scoreColor} />
                            <div className="text-xs">
                                <span className="font-bold text-gray-700">AI Match: </span>
                                <span className={`font-bold ${scoreColor}`}>{matchScore}%</span>
                            </div>
                            <div className="flex-1 h-1.5 bg-gray-200 rounded-full ml-2">
                                <div className={`${matchScore >= 80 ? 'bg-green-500' : matchScore >= 50 ? 'bg-yellow-500' : 'bg-gray-400'} h-1.5 rounded-full`} style={{ width: `${matchScore}%` }}></div>
                            </div>
                        </div>
                    )}
                    <button className="w-full bg-slate-900 hover:bg-slate-800 text-white font-medium py-2 rounded-lg text-sm transition-colors">Apply Now</button>
                </div>
            );
        };

        const Dashboard = () => {
            const [activeTab, setActiveTab] = useState('FULL_TIME');
            const [jobs, setJobs] = useState([]);
            const [userSkills, setUserSkills] = useState('');
            const [notifications, setNotifications] = useState([]);

            useEffect(() => {
                const initialJobs = Array.from({ length: 6 }).map(() => generateRandomJob('FULL_TIME'));
                const initialInternships = Array.from({ length: 4 }).map(() => generateRandomJob('INTERNSHIP'));
                setJobs([...initialJobs, ...initialInternships]);
            }, []);

            useEffect(() => {
                const interval = setInterval(() => {
                    if (Math.random() > 0.3) {
                        const type = Math.random() > 0.5 ? 'FULL_TIME' : 'INTERNSHIP';
                        const newJob = generateRandomJob(type);
                        setJobs(prev => [newJob, ...prev]);
                        const notifId = Date.now();
                        setNotifications(prev => [...prev, { id: notifId, text: `New ${type === 'FULL_TIME' ? 'Job' : 'Internship'}: ${newJob.title} at ${newJob.company}` }]);
                        setTimeout(() => { setNotifications(prev => prev.filter(n => n.id !== notifId)); }, 3000);
                    }
                }, 4000);
                return () => clearInterval(interval);
            }, []);

            const filteredJobs = jobs.filter(job => job.type === activeTab);
            const displayedJobs = useMemo(() => {
                if (!userSkills) return filteredJobs;
                return [...filteredJobs].sort((a,b) => calculateMatchScore(b.description, userSkills) - calculateMatchScore(a.description, userSkills));
            }, [filteredJobs, userSkills]);

            return (
                <div className="min-h-screen pb-10">
                    {/* Navigation */}
                    <nav className="bg-white border-b sticky top-0 z-20">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between h-16 items-center">
                                <div className="flex items-center gap-2">
                                    <div className="bg-blue-600 text-white p-1.5 rounded-lg"><Icon name="briefcase" size={20} /></div>
                                    <span className="font-bold text-xl tracking-tight text-slate-900">JobStream<span className="text-blue-600">.AI</span></span>
                                </div>
                                <div className="hidden md:flex space-x-8">
                                    <a href="#" className="text-blue-600 font-medium text-sm">Dashboard</a>
                                    <a href="#" className="text-gray-500 hover:text-gray-900 font-medium text-sm">Analytics</a>
                                    <a href="#" className="text-gray-500 hover:text-gray-900 font-medium text-sm">Saved</a>
                                </div>
                                <div className="flex items-center">
                                    <span className="h-2 w-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>
                                    <span className="text-xs font-medium text-gray-500">Live Feed Active</span>
                                </div>
                            </div>
                        </div>
                    </nav>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Header & AI Controls */}
                        <div className="bg-white rounded-2xl p-6 shadow-sm mb-8 border border-gray-100">
                            <div className="md:flex justify-between items-end gap-6">
                                <div className="flex-1">
                                    <h1 className="text-2xl font-bold text-slate-900 mb-2">Find your perfect match</h1>
                                    <p className="text-slate-500 mb-4 text-sm">Enter your skills below. Our AI will scan live listings to rank the best opportunities for you.</p>
                                    <div className="relative">
                                        <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                            <Icon name="search" size={18} className="text-gray-400" />
                                        </div>
                                        <input
                                            type="text"
                                            className="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out sm:text-sm"
                                            placeholder="e.g. React, C++, Associate Manager, Python, SQL..."
                                            value={userSkills}
                                            onChange={(e) => setUserSkills(e.target.value)}
                                        />
                                    </div>
                                </div>
                                <div className="mt-4 md:mt-0">
                                    <div className="bg-blue-50 p-4 rounded-xl border border-blue-100">
                                        <div className="text-xs font-semibold text-blue-800 uppercase tracking-wide mb-1">Live Stats</div>
                                        <div className="flex gap-4">
                                            <div>
                                                <div className="text-2xl font-bold text-slate-900">{jobs.filter(j => j.type === 'FULL_TIME').length}</div>
                                                <div className="text-xs text-slate-500">Jobs</div>
                                            </div>
                                            <div className="w-px bg-blue-200"></div>
                                            <div>
                                                <div className="text-2xl font-bold text-slate-900">{jobs.filter(j => j.type === 'INTERNSHIP').length}</div>
                                                <div className="text-xs text-slate-500">Internships</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Tabs */}
                        <div className="flex space-x-1 bg-gray-200 p-1 rounded-lg w-fit mb-6">
                            <button onClick={() => setActiveTab('FULL_TIME')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeTab==='FULL_TIME' ? 'bg-white text-slate-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'}`}>Recruitment / Jobs</button>
                            <button onClick={() => setActiveTab('INTERNSHIP')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeTab==='INTERNSHIP' ? 'bg-white text-slate-900 shadow-sm' : 'text-gray-600 hover:text-gray-900'}`}>Internships</button>
                        </div>

                        {/* Job Grid */}
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {displayedJobs.map(job => <JobCard key={job.id} job={job} userSkills={userSkills} />)}
                        </div>
                        {displayedJobs.length===0 && <div className="text-center py-20 text-gray-500"><p>Waiting for live updates...</p></div>}
                    </div>

                    {/* Notifications */}
                    <div className="fixed bottom-4 right-4 flex flex-col gap-2 z-50">
                        {notifications.map(note => (
                            <div key={note.id} className="bg-slate-900 text-white px-4 py-3 rounded-lg shadow-lg text-sm flex items-center gap-3 fade-in max-w-sm">
                                <span className="h-2 w-2 bg-blue-400 rounded-full"></span>{note.text}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html>
